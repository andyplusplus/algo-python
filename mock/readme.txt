test code form https://docs.python.org/3/library/unittest.mock-examples.html
